<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BISC/CHEM 116 Grade Calculator</title>
<style>
  body {font-family: Arial, sans-serif; background: #fff; color: #000; margin: 0; padding: 20px;}
  h1, h2 {text-align: center;}
  table {width: 100%; border-collapse: collapse; margin-top: 20px;}
  th, td {border: 1px solid #000; padding: 10px; text-align: left;}
  input[type='number'] {width: 80px;}
  button {background: #000; color: #fff; border: none; padding: 10px 15px; cursor: pointer; margin: 5px; border-radius: 6px;}
  button:hover {opacity: 0.8;}
  .btn-secondary {background: #fff; color: #000; border: 1px solid #000;}
  #results {margin-top: 30px; font-size: 18px; font-weight: bold;}
</style>
</head>
<body>
  <h1>BISC/CHEM 116 Grade Calculator</h1>
  <p>This tool estimates your overall grade using the official grading distribution for BISC/CHEM 116. You can import your data from Gradescope or Sakai (CSV export), or enter your scores manually.</p>

  <div style="text-align:center; margin-top: 10px;">
    <button id="linkGradescope">Link Gradescope</button>
    <button id="linkSakai">Link Sakai</button>
  </div>

  <table id="gradeTable">
    <thead>
      <tr><th>Category</th><th>Weight (%)</th><th>Your % Score</th><th>Calculated Points</th></tr>
    </thead>
    <tbody>
      <tr><td>Exam 1</td><td>10</td><td><input type="number" id="exam1" min="0" max="100" step="0.1"></td><td id="exam1_pts">—</td></tr>
      <tr><td>Exam 2</td><td>10</td><td><input type="number" id="exam2" min="0" max="100" step="0.1"></td><td id="exam2_pts">—</td></tr>
      <tr><td>Exam 3</td><td>10</td><td><input type="number" id="exam3" min="0" max="100" step="0.1"></td><td id="exam3_pts">—</td></tr>
      <tr><td>Final Exam</td><td>25</td><td><input type="number" id="final" min="0" max="100" step="0.1"></td><td id="final_pts">—</td></tr>
      <tr><td>PSETS (9 total)</td><td>10</td><td><input type="number" id="psets" min="0" max="100" step="0.1"></td><td id="psets_pts">—</td></tr>
      <tr><td>Practice Problems</td><td>5</td><td><input type="number" id="practice" min="0" max="100" step="0.1"></td><td id="practice_pts">—</td></tr>
      <tr><td>Participation</td><td>5</td><td><input type="number" id="participation" min="0" max="100" step="0.1"></td><td id="participation_pts">—</td></tr>
      <tr><td>End-of-Term Presentation</td><td>5</td><td><input type="number" id="presentation" min="0" max="100" step="0.1"></td><td id="presentation_pts">—</td></tr>
      <tr><td>Lab</td><td>20</td><td><input type="number" id="lab" min="0" max="100" step="0.1"></td><td id="lab_pts">—</td></tr>
    </tbody>
  </table>

  <div style="text-align:center; margin-top: 20px;">
    <button onclick="calculateGrade()">Calculate Overall Grade</button>
  </div>

  <div id="results"></div>

  <script>
    const weights = {
      exam1: 10, exam2: 10, exam3: 10, final: 25,
      psets: 10, practice: 5, participation: 5,
      presentation: 5, lab: 20
    };

    function calculateGrade() {
      let total = 0;
      for (const key in weights) {
        const val = parseFloat(document.getElementById(key).value) || 0;
        const pts = (val * weights[key]) / 100;
        total += pts;
        document.getElementById(`${key}_pts`).textContent = pts.toFixed(2);
      }
      document.getElementById('results').textContent = `Current Overall Grade: ${total.toFixed(2)}%`;
    }

    document.getElementById('linkGradescope').addEventListener('click',()=>{
      alert('For privacy reasons, please manually export your Gradescope grades as CSV and upload them — direct linking requires institutional API access.');
    });
    document.getElementById('linkSakai').addEventListener('click',()=>{
      alert('Please export your Sakai Gradebook as CSV — direct linking requires a backend server connection.');
    });
  </script>
</body>
</html>
